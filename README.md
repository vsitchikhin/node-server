# Простой сервер на node js

Данный сервер написан для упрощения выполнения работ в ВУЗах.
Это хорошая основа для любой лабораторной / курсовой работы.
Он будет полезен на протяжении всего обучения, по крайней мере в ВолгГТУ. \
Все что нужно для вашей работы - добавить эндпоинты и ручки для обработки запросов. \
На сервере реализована простейшая авторизация, для ее использования нужно выполнить команду \
```node ./auth/genSalt.mjs``` \
После чего, ```.env``` появится константа **SALT** \
Если авторизация не нужна, то необходимо из ```app.ts``` удалить импорты контроллеров связанных сней

Сервер написан с использованием библиотеки **express js**, подробная документация - https://expressjs.com/ru/guide/routing.html


# Все доработки для ваших задач писать в отдельных ветках!!
Если ваш код должен попасть в мастер - необходимо сделать **Pull Request** вашей ветки в *develop*

### Для запуска сервера необходимо выполнить следующие команды:
```npm i```\
```npm run dev``` - версия для разработки \
```npm run build``` - компиляция проекта \
```npm run start``` - старт скомпилированного кода \
```npm tcs -w``` ```nodemon ./dist/main.js``` - если нужно дебажить

### Подключение к базе данных
Для подключения к базе данных, необходимо настроить ```.env``` файл
Нужно создать этот файл, внутри указать константы 
1. **PORT** - порт, на котором будет крутиться сервер
2. **DATABASE_URL** - вся информация о базе для Prisma ORM, используемой на проекте

Константа **DATABASE_URL** оформляется следующим образом:
```DATABASE_URL=база данных(1)://имя пользователя:пароль@хост:порт базы/имя базы?необязательные дополнительные параметры```\
(1) - например mysql / sqlite и т.д. \
Более подробная информация на https://www.prisma.io/docs \
На русском: https://habr.com/ru/company/timeweb/blog/654341

На данный момент Prisma не дает возможности разделять модели по файлам, поэтому разделение моделей по
смысловой нагрузке происходит путем комментариев: \
1 строка - символы "-" до 72 символа строки \
2 строка - название блока данных для моделей. \
Пример в файле ```prisma/schema.prisma``` \
При подключении к базе необходимо выполнить первую миграцию командой ```npx prisma migrate```



### Оформление кода
* Весь код для разработки пишется в папке ```src```
* Весь код после компиляции находится в папке ```dist```
* Маршрутизация находится в папке ```routes```
* Обработка запросов описывается в папке ```controllers```
* Подключение маршрутизаторов, базы и прочих модулей в файле ```app.ts```
* Файл ```main.ts``` только запускает  сервер
* Именование контроллеров производится PascalCase
* Все остальные модули - camelCase

### Для пожертвований
Данный сервер абсолютно бесплатный и будет дорабатываться по крайней мере до 2025 года.
Но если есть желание, пожертвования принимаются на карту ```2200 7007 4862 2502```
